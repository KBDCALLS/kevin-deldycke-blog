# Redirect everything to my beautiful subdomain
RewriteCond %{HTTP_HOST} !^kevin\.deldycke\.com
RewriteRule ^(.*)$ https://kevin.deldycke.com/$1

# Catch-all for tag-like URLs
RedirectMatch 301 /tag/?$ /tags/
RedirectMatch 301 /category/?$ /categories/

# Content moved during Pelican exploitation
RedirectMatch 301 ^/mandriva-rpm-repository https://github.com/kdeldycke/mandriva-specs
RedirectMatch 301 ^/static/repository       https://github.com/kdeldycke/mandriva-specs

# Monthly-static assets are now sorted by year only
RedirectMatch 301 ^/uploads/(\d+)/\d+/(.*) /uploads/$1/$2

# Yearly and monthly archive are no longer paginated
RedirectMatch 301 ^/(\d{4})/page/\d+/?.* /$1/
RedirectMatch 301 ^/(\d{4}/\d{2})/page/\d+/?.* /$1/

# Paginated tags and categories are no more
RedirectMatch gone /category/(.*)/page/\d+/?$
RedirectMatch gone /tag/[^\/]+/page/\d+/?$

# Misc WordPress stuff
RedirectMatch gone /author/[^\/]+/?$
RedirectMatch gone /author/[^\/]+/page/\d+/?$


### Disqus redirects

# Links to a particular comment are no longer supported following Disqus migration
RedirectMatch 301 (.*)/comment-page-\d+/?.* $1

# Site-wide comments feeds moved to Disqus
RedirectMatch 301 ^/comments/feed(/(rss2?|rdf|atom))?/?$ https://kevin-deldycke-blog.disqus.com/latest.rss
